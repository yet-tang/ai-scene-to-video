# Application Configuration
SERVER_PORT=8090

# ============================================
# Docker Image Configuration
# ============================================
# Registry: ghcr.io (GitHub Container Registry) or docker.io (Docker Hub)
DOCKER_REGISTRY=ghcr.io
# Image prefix: your-github-username/ai-scene
DOCKER_IMAGE_PREFIX=your-github-username/ai-scene
# Image tag: latest, main, develop, v1.0.0, etc.
IMAGE_TAG=latest

# Build Version Info (Auto-generated by CI/CD)
# GIT_COMMIT will be set during build to track deployed version
# BUILD_TIME will be set to ISO 8601 timestamp
GIT_COMMIT=unknown
BUILD_TIME=unknown

# ============================================

# Database (PostgreSQL)
SPRING_DATASOURCE_URL=jdbc:postgresql://host:port/dbname
SPRING_DATASOURCE_USERNAME=your_username
SPRING_DATASOURCE_PASSWORD=your_password

# Redis
SPRING_REDIS_URL=redis://default:password@host:port/0

# S3 Storage (Cloudflare R2 / AWS S3)
S3_STORAGE_REGION=auto
S3_STORAGE_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
S3_STORAGE_ACCESS_KEY=your_r2_access_key
S3_STORAGE_SECRET_KEY=your_r2_secret_key
S3_STORAGE_BUCKET=ai-scene-assets
S3_STORAGE_PUBLIC_URL=https://pub-domain.r2.dev

# AI Service Keys (For Engine)
DASHSCOPE_API_KEY=your_dashscope_api_key

# Built-in BGM Configuration
# Auto-select random BGM on project creation
APP_BGM_AUTO_SELECT=true
# List of BGM URLs (comma-separated, or configure in application.yml)
# APP_BGM_BUILTIN_URLS=https://your-cdn.com/bgm/warm-01.mp3,https://your-cdn.com/bgm/cozy-02.mp3

# ============================================
# "温情生活风" Enhancement Features (New)
# ============================================

# Subtitle Configuration
SUBTITLE_ENABLED=true
SUBTITLE_FONT=Arial-Bold
SUBTITLE_FONT_SIZE=48
SUBTITLE_POSITION=0.75  # 0-1, relative to screen height
SUBTITLE_STYLE=default  # Options: default, elegant, bold

# Intro/Outro Card Configuration
INTRO_ENABLED=true  # Add professional intro card at the beginning
OUTRO_ENABLED=true  # Add professional outro card at the end
INTRO_DURATION=3.0  # Intro card duration in seconds (fallback if no voice)
OUTRO_DURATION=3.0  # Outro card duration in seconds

# Intro Voice Configuration (开场白语音)
INTRO_VOICE_ENABLED=true  # Generate voice-over intro introducing the property
INTRO_USE_FIRST_VIDEO=true  # Use first video clip as intro background

# Visual Enhancement (Aliyun Wanxiang)
VISUAL_ENHANCEMENT_ENABLED=false  # Set to true after configuring API
VISUAL_ENHANCEMENT_STRATEGY=smart  # Options: all, smart, none
VISUAL_ENHANCEMENT_MODEL=wanx2.1-vace-plus

# Sound Effects (SFX)
SFX_ENABLED=false  # Set to true after preparing SFX library
SFX_LIBRARY_PATH=/app/sfx_library  # Path to sound effects folder

# Audio Mixing & BGM
AUTO_DUCKING_ENABLED=false  # Auto-reduce BGM volume during TTS
BGM_VOLUME=0.15  # Default BGM volume (15%)
BGM_DUCKING_LEVEL=0.3  # Ducked volume level (30% during TTS)

# Performance Optimization
RENDER_THREADS=4  # FFmpeg rendering threads (recommend: CPU cores / 2)
ENABLE_CLIP_CACHE=false  # Enable video clip caching (experimental)
MAX_VIDEO_RESOLUTION=1080  # Max output height (720/1080)
CELERY_WORKER_CONCURRENCY=2  # Celery worker processes (recommend: 2 for 4GB VPS, 4 for 8GB+)

# ============================================

# Engine DB Connection (Full DSN recommended for Python)
DB_DSN=postgresql://user:pass@host:port/dbname

# ============================================
# Frontend Build Configuration (for GitHub Actions only)
# ============================================
# These are used during image build in GitHub Actions
# NOT needed for Coolify deployment (images are pre-built)
VITE_API_BASE_URL=https://your-api-domain.com
VITE_API_KEY=your_api_key_for_frontend
