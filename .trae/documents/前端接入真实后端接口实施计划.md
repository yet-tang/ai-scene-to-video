此计划将把前端从 Mock 模式切换到对接真实后端接口，并补充必要的后端接口以支持完整功能。

### 1. 后端接口补充 (Backend Enhancement)
为了支持前端的“智能分段确认”功能（排序和修改标签），需要在后端补充更新接口。
* **新增接口**: `PUT /v1/assets/{id}` (根据用户要求，不使用 PATCH)
* **功能**: 允许更新素材的 `userLabel` (用户标签) 和 `sortOrder` (排序权重)。
* **变更文件**:
    * `backend/src/main/java/com/aiscene/controller/ProjectController.java`
    * `backend/src/main/java/com/aiscene/service/ProjectService.java`
    * `backend/src/main/java/com/aiscene/dto/UpdateAssetRequest.java` (新建)

### 2. 前端环境配置 (Frontend Config)
* **新建文件**: `frontend/.env`
* **配置项**:
    * `VITE_API_BASE_URL=https://gw.tnight.xyz/api/ai-video/v1`
    * `VITE_API_KEY=czdxMrv4Z5bDA1jBkI69AvSvc0dFuUQKW-I0bOeegwM`

### 3. 前端 API 封装 (Frontend API)
* **新建文件**: `frontend/src/api/client.ts`
    * 封装 Axios 实例。
    * **鉴权**: 自动注入 `Authorization: ApiKey ...` 头。
    * **Request ID**: **不**在前端生成，完全依赖网关生成并由后端透传。
* **新建文件**: `frontend/src/api/project.ts`
    * 定义所有 API 方法：`createProject`, `uploadAsset`, `getTimeline`, `updateAsset`, `generateScript`, `generateAudio`, `renderVideo`, `getProject`。

### 4. 前端业务逻辑迁移 (Refactor)
移除 Store 和组件中的 Mock 数据，对接真实 API。
* **Store (`frontend/src/stores/project.ts`)**: 移除 Mock 逻辑，改为状态管理。
* **创建页 (`CreateProject.vue`)**:
    * 调用 `createProject` API。
    * 实现**并发上传**素材 (`uploadAsset`)。
* **确认页 (`ReviewTimeline.vue`)**:
    * 轮询 `getTimeline` 直到 AI 分析完成。
    * 拖拽排序/修改标签时调用 `updateAsset`。
    * 点击下一步调用 `generateScript`。
* **结果页 (`VideoResult.vue`)**:
    * 轮询项目状态直到 `COMPLETED`。
    * 展示最终视频 URL。
